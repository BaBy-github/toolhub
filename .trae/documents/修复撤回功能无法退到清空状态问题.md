## 问题分析
用户反映当初次输入内容时，似乎没有加入到撤回队列中，导致无法退回到清空状态。

## 原因
1. **历史记录初始化问题**：`history`数组初始化为`['']`，导致第一次输入内容时，历史记录变为`['', 'user_input']`
2. **历史记录切片逻辑**：当用户撤回后（cursor=0）再次输入新内容时，`history`数组会被切片为`['']`，清除之前的所有历史记录
3. **撤回边界条件**：当`cursor`为0时，`undo()`函数直接返回，无法继续撤回

## 修复方案
修改历史记录管理逻辑，确保初次输入内容正确加入撤回队列，并且用户可以正常退回到清空状态：

1. **修改`pushHistory`函数**：确保空字符串也能被正确添加到历史记录中
2. **调整历史记录切片逻辑**：防止过度清除历史记录
3. **优化`undo`函数**：确保在任何情况下都能正确处理撤回操作

## 具体代码修改

1. 修改`pushHistory`函数，移除重复内容检查，确保每次输入变化都被记录：
   ```typescript
   function pushHistory(v: string) {
     if (applying.value) return
     const cur = cursor.value
     if (cur < history.value.length - 1) history.value = history.value.slice(0, cur + 1)
     history.value.push(v)
     cursor.value = history.value.length - 1
   }
   ```

2. 确保历史记录始终包含初始空状态，修改`watch(inputText)`逻辑：
   ```typescript
   watch(inputText, (v) => {
     const trimmed = v.trim()
     pushHistory(v)
     if (!trimmed) {
       if (!fileInfo.value) { output.value = ''; showOutput.value = false }
       return
     }
     // 其他逻辑保持不变
   })
   ```

3. 优化`undo`函数，确保即使在cursor=0时也能正确处理：
   ```typescript
   function undo() {
     if (cursor.value <= 0) {
       // 确保退回到完全清空状态
       applying.value = true
       inputText.value = ''
       output.value = ''
       showOutput.value = false
       applying.value = false
       return
     }
     // 其他逻辑保持不变
   }
   ```

## 验证步骤
1. 输入内容，确认撤回按钮可用
2. 点击撤回按钮，确认可以退回到清空状态
3. 再次输入内容，确认可以正常撤回
4. 多次输入和撤回，确认历史记录管理正常