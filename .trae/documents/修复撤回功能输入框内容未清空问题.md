## 问题分析
当输入框有内容时点击撤回按钮，输出框会收回，但输入框的内容没有被正确清空。

## 原因
1. `undo`函数只更新了`inputText`的值
2. 虽然有`watch(inputText)`监听器，但由于`applying.value = true`，`pushHistory`函数会跳过历史记录更新
3. 监听器中的输出更新逻辑依赖于历史记录变化，导致输出状态没有与输入状态同步

## 修复方案
修改`undo`函数，在更新`inputText`后手动同步更新输出状态：

1. 在`undo`函数中，更新`inputText`后添加手动更新逻辑
2. 检查当前输入内容的状态
3. 如果输入为空且没有文件信息，清空输出并隐藏输出框
4. 如果输入不为空，重新计算输出并显示输出框
5. 确保错误处理逻辑也被正确执行

## 具体代码修改

在`undo`函数（第195-216行）中添加手动更新output和showOutput的逻辑：
```typescript
function undo() {
  if (cursor.value <= 0) return
  cursor.value = cursor.value - 1
  applying.value = true
  inputText.value = history.value[cursor.value] || ''
  // 手动更新output和showOutput，确保与inputText一致
  const trimmed = inputText.value.trim()
  if (!trimmed) {
    if (!fileInfo.value) {
      output.value = ''
      showOutput.value = false
    }
  } else {
    try {
      output.value = encodeTextToBase64(trimmed)
      showOutput.value = true
    } catch {
      error.value = t('base64.textEncodeError')
    }
  }
  applying.value = false
}
```

## 验证步骤
1. 在输入框中输入内容，观察输出框显示
2. 点击撤回按钮
3. 检查输入框内容是否清空，输出框是否收回
4. 验证多次输入和撤回的情况
5. 确保与文件上传功能兼容