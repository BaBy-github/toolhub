# 黑白模式切换修复计划

## 问题分析

1. **watch监听器实现错误**：当前代码中，当`isDarkMode`变化时，使用了`classList.toggle('dark', newValue)`，这是不正确的。`toggle`方法会根据当前状态切换类，而不是根据`newValue`来设置类。

2. **Tailwind CSS配置检查**：需要确认Tailwind CSS是否正确配置了深色模式支持。

3. **状态同步问题**：确保`isDarkMode`状态与`document.documentElement`的`dark`类始终保持同步。

## 修复内容

1. **修复watch监听器**：将`classList.toggle`改为`classList.add`和`classList.remove`的组合，确保根据`newValue`正确设置类。

2. **检查Tailwind CSS配置**：查看`tailwind.config.js`文件，确保深色模式被正确启用。

3. **优化初始化逻辑**：确保初始化时状态与类名正确同步。

4. **测试修复效果**：验证黑白模式切换是否正常工作。

## 实现步骤

1. 修复Home.vue中的watch监听器
2. 检查tailwind.config.js配置
3. 测试黑白模式切换功能
4. 确保所有页面元素正确响应深色模式

## 预期效果

- 点击黑白模式切换按钮时，页面能平滑切换到深色或浅色模式
- 页面刷新后，能保持之前的模式偏好
- 支持系统主题偏好
- 所有页面元素都能正确响应深色模式